<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %> | VibeLink</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="shortcut icon" href="images/vibelink-logo.png" type="image/x-icon">
</head>
<body>
  <header id="main-header">
    <div class="container">
      <div class="logo">
        <a href="/">
          <img src="images/vibelink-logo.png" alt="VibeLink image logo">
          <span>- Community Portal</span>
        </a>
      </div>
      <nav>
        <ul class="nav-links">

          <li><a href="/"       class="<%= title==='Home'    ? 'active':'' %>">Home</a></li>
          <li><a href="/about"  class="<%= title==='About'   ? 'active':'' %>">About</a></li>
          <li><a href="/events" class="<%= title==='Events'  ? 'active':'' %>">Events</a></li>

          <!-- contact: show to guests & orgs, hide for admins -->
          <li id="contact-nav"
              class="<% if (user && user.userType==='admin') { %>hidden<% } %>">
            <a href="/contact" class="<%= title==='Contact' ? 'active':'' %>">Contact</a>
          </li>

          <!-- admin‐only links (hidden by default) -->
          <li class="nav-auth admin hidden">
            <a href="/users" class="<%= title==='Users' ? 'active':'' %>">Users</a>
          </li>
          <li class="nav-auth admin hidden">
            <a href="/submissions" class="<%= title==='Submission' ? 'active':'' %>">
              Submissions
            </a>
          </li>

          <!-- login / logout -->
          <li id="login-li"  class="<% if (user) { %>hidden<% } %>">
            <button id="login-btn"  class="btn btn-primary">Log in</button>
          </li>
          <li id="logout-li" class="hidden<% if (user) { %> <% } %>">
            <button id="logout-btn" class="btn btn-primary">Log out</button>
          </li>

        </ul>
      </nav>
    </div>
  </header>
  <%- include('../partials/loginModal') %>

  <script src="/js/loginModal.js" defer></script>
  <main>
